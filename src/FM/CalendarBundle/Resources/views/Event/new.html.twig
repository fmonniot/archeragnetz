{% extends "FMCalendarBundle::base.html.twig" %}

{% form_theme form _self %}

{% block checkbox_widget %}
{% spaceless %}
{% if form.hasParent() and 'choice' not in form.parent.vars.block_prefixes %}
    <label class="checkbox{% if inline is defined and inline %} inline{% endif %}">
{% endif %}
        <input type="checkbox" {{ block('widget_attributes') }}{% if value is defined %} value="{{ value }}"{% endif %}{% if checked %} checked="checked"{% endif %}> {{ help_inline|trans|raw }}
{% if form.hasParent() and 'choice' not in form.parent.vars.block_prefixes %}
        {% set help_inline = false %}
    </label>
{% endif %}
{% endspaceless %}
{% endblock checkbox_widget %}

{% block subhead_title %}{{ parent() }} <small>Nouvel évènement</small>{% endblock subhead_title %}

{% block content %}
            {% for key, message in app.session.getFlashes() %}
                <div class="alert {{ key }}">
                    <a class="close" data-dismiss="alert" href="#">&times;</a>
                    {{ message|trans({}, 'FOSUserBundle') }}
                </div>
            {% endfor %}

            <div class="row">
                <form action="{% block form_action_path %}{{ path('fm_calendar_event_new') }}{% endblock form_action_path %}" method="post" class="form-horizontal span10 offset1" {{
form_enctype(form)
}}>
                    <fieldset>
                        <legend>Informations obligatoires</legend>

                        {{ form_row(form.dtstart, {'label':'Date de début'}) }}

                        {{ form_row(form.calendar, {'label':'Calendrier'}) }}

                        {{ form_row(form.description, { 'attr': {'class': 'span8 basic-editor'}, 'help_block':'Il est conseillé de limiter la taille de la description afin de garantir une meilleure lisibilité.', 'label':'Description' }) }}

                    </fieldset>
                    <fieldset>
                        <legend>Informations complémentaires</legend>

                        <div class="row-fluid">
                            <div class="span8">
                            {{ form_row(form.dtend, {'label':'Date de fin'}) }}
                            </div>
                            <div class="span4">
                                {{ form_row(form.wholeDay, {'label':'Journée complète'}) }}
                            </div>
                        </div>

                        <div class="row-fluid">
                            <div class="span6">
                                {{ form_row(form.url, {'help_block':'Laisser le champ vide n\'affichera pas l\'icone \"<i class=\"icon-chevron-right\"></i>\"', 'label':'Lien Plus d\'information'}) }}
                            </div>
                            <div class="span6">
                                {{ form_row(form.location, {'label':'Lieu'}) }}
                            </div>
                        </div>

                    </fieldset>
                        {{ form_widget(form) }}
                    <div class="form-actions btn-grou">
                        {% block form_actions %}
                        <button type="submit" class="btn btn-primary">{% block form_actions_submit %}Créer{% endblock form_actions_submit %}</button>
                        <button type="reset" class="btn">Recommencer</button>
                        {% endblock form_actions %}
                    </div>
                </form>
            </div>
<script type="text/javascript"></script>
{% endblock content %}
